<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>NL DevOps팀의 첫 AWS 인프라 설계기 | NL 팀 블로그</title><meta name=keywords content="devops,aws,ec2,iam,vpc,elb,route53"><meta name=description content="NL 동아리의 홈페이지의 견고하고 안전한 클라우드 인프라를 위해 설계하고 개발한 내용들을 공유해드려요. "><meta name=author content="newdeal123, TProgramer, Hanalin0422, Moojun"><link rel=canonical href=https://Network-Leader.github.io/devops/1/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://network-leader.s3.ap-northeast-2.amazonaws.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://network-leader.s3.ap-northeast-2.amazonaws.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://network-leader.s3.ap-northeast-2.amazonaws.com/favicon-32x32.png%3e><link rel=apple-touch-icon href=https://network-leader.s3.ap-northeast-2.amazonaws.com/apple-touch-icon.png><link rel=mask-icon href=https://network-leader.s3.ap-northeast-2.amazonaws.com/apple-touch-icon.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="NL DevOps팀의 첫 AWS 인프라 설계기"><meta property="og:description" content="NL 동아리의 홈페이지의 견고하고 안전한 클라우드 인프라를 위해 설계하고 개발한 내용들을 공유해드려요. "><meta property="og:type" content="article"><meta property="og:url" content="https://Network-Leader.github.io/devops/1/"><meta property="og:image" content="https://Network-Leader.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="devops"><meta property="article:published_time" content="2022-07-29T16:38:49+09:00"><meta property="article:modified_time" content="2022-07-29T16:38:49+09:00"><meta property="og:site_name" content="NL 기술 블로그"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://Network-Leader.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="NL DevOps팀의 첫 AWS 인프라 설계기"><meta name=twitter:description content="NL 동아리의 홈페이지의 견고하고 안전한 클라우드 인프라를 위해 설계하고 개발한 내용들을 공유해드려요. "><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Devops","item":"https://Network-Leader.github.io/devops/"},{"@type":"ListItem","position":2,"name":"NL DevOps팀의 첫 AWS 인프라 설계기","item":"https://Network-Leader.github.io/devops/1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"NL DevOps팀의 첫 AWS 인프라 설계기","name":"NL DevOps팀의 첫 AWS 인프라 설계기","description":"NL 동아리의 홈페이지의 견고하고 안전한 클라우드 인프라를 위해 설계하고 개발한 내용들을 공유해드려요. ","keywords":["devops","aws","ec2","iam","vpc","elb","route53"],"articleBody":"NL DevOps팀의 첫 AWS 인프라 설계기 안녕하세요. NL 동아리 홈페이지 제작 프로젝트에서 DevOps 및 AWS 인프라 설계, 개발을 맡고 있는 DevOps팀이에요. 저희 팀 블로그의 첫 포스팅으로 저희 DevOps팀의 첫 AWS 인프라 설계하는 과정을 설명해드리려 해요. 클라우드 인프라 설계는 간단하게 진행하면 별 것 아닐 수도 있지만, 클라우드 서비스 하나하나 깊게 파고 적용시킬수록 가용성, 보안성을 높이고 비용 효율적으로 인프라를 고도화 시킬 수도 있습니다. 저희 팀에서 AWS를 사용해 웹 서비스의 인프라를 어떻게 설계하고 개발했는지, 차근차근 설명해 드릴게요.\nAWS IAM 유저 생성 및 권한 가장 먼저 AWS 인프라를 개발할 때 필요한 절차는 무엇일까요? EC2 인스턴스 만들기? VPC 만들기? 정답은 루트계정으로 부터 최소 권한이 담긴 AWS IAM 유저를 생성하고, MFA를 적용시키는 일이에요. 모두가 루트계정으로 접속해 모든 권한으로 동시에 작업하는 행동은 아주 위험하고, AWS에서도 권장하지 않는 방식이에요.\n이를 위해 가장 널리 사용되는 접근 방식은 RBAC (역할 기반 액세스 제어, Role-Based Access Control) 입니다. DevOps팀에게는 팀 역할에 맞는 제어 권한을, Back-end팀에게는 그 팀 역할에 맞는 제어 권한을 줘야 하죠. AWS에는 권한이 담긴 사용자를 그룹별로 제어할 수 있도록 기능을 제어해 줍니다.\n그룹에 여러가지 권한을 할당시키고, 그 그룹에 IAM 유저를 배정시킨다면 편리하게 그룹 별로 최소권한을 관리할 수 있게 됩니다. 특히 이후에는 AWS X-Ray, CloudTrail을 활용해 각 사용자별 활동 로그를 확인할 수 있어 더 효율적인 관리가 가능하게 됩니다.\n이제 DevOps 팀원 각각에게 IAM 유저를 할당해주었으니, 팀원 각각은 보안 강화를 위해 MFA를 설정해 주어야 합니다. MFA는 멀티 팩터 인증으로, AWS 웹 사이트 콘솔에 로그인을 시도할 때 모바일 디바이스 등으로 2차 인증을 거쳐야 로그인이 가능하게 합니다.\n아무리 계정에 최소 권한을 설정하고 비용을 모니터링 하더라도 보안에 대한 대비는 가능한 한 최대로 하는 것이 좋기에, 인프라에 대한 보안 위협을 보호하기 위해 MFA는 꼭 활성화 해주는 것이 중요해요.\nAWS VPC CIDR 설계하기 다음으로 AWS 에서 큰 틀이라고 할 수 있는 VPC 를 설계해보려고 해요.\n‘Virtual Private Cloud’ 라는 이름에서 보이듯이 VPC 는 AWS 에서 서버를 생성하여 사용하기 위해서는 일반 온프레미스 환경에서 사설망을 구축하는것과 동일하게 네트워크 설계가 필요해요.\n이는 크게 어떤 IP대역을 선택할 것 인가와 어떻게 Subnet 을 나눌 것 인가에 대해 정의하는 단계로 나눠볼 수 있어요.\n우선 첫 번째로 어떤 네트워크 IP대역을 사용할 것인지를 정해보았어요.\n여기서 VPC 는 사설 네트워크 망이니 당연히 공인 IP 가 아닌 사설 IP 를 기준으로 정해야 해요.\n통상적으로 사용가능한 사설 IP대역은 아래와 같아요.\n이 중 저희 팀은 Class C를 선택했어요.\n하지만, 여기서 현재 몇개의 서버가 필요하며 향후 서버가 얼마나 늘어날 것 인가를 추가로 고려해야해요.\n이번 프로젝트의 경우, 동아리 홈페이지를 위한 환경이니 미래에도 많은 서버를 필요로 하지않을 것 같아 192.168.0.0/24 의 네트워크 대역을 설정했어요.\n다음 두 번째로는 Subnet 을 어떻게 나눌 것인지, 즉 Subnetting 방식을 정해야 해요.\n여기서 Subnetting 이란 IP블록을 더 작은 그룹으로 분할하는 것을 말해요. 이렇게 Subnet 을 나누는 이유는 용도 별로 네트워크의 관리적인 측면도 있지만 가장 큰 이유는 보안 이슈 때문입니다.\nSubnetting 을 통해서 VPC안에서도 외부에서 접근가능한 Public Subnet, 외부에서 접근이 불가능한 Private Subnet 으로 구분할 수 있어요. 일반적으로 웹/앱 서비스를 구동하기위한 서버가 필요하다고 한다면 Public Subnet 2개, Private Subnet 4개로 총 6개의 Subnet을 사용하지만, 저희는 규모가 큰 서비스가 아니기 때문에 줄여서 2개 / 2개로 설정했어요.\n그러면 Public Subnet 과 Private Subnet 의 대역은 각각 ‘192.168.10.0/24’, ‘192.168.11.0/24’, ‘192.168.12.0/24’, ‘192.168.13.0/24’ 로, 각 Subnet 마다 251 개의 IP 를 할당해줄 수 있게돼요.\n여기서 할당가능한 IP 의 개수가 256 개가 아닌 251 개인 이유는, 첫 4개의 IP 와 마지막 IP 주소가 AWS 에서 예약 해놓은 주소 이기 때문이에요. 예를 들어 192.168.10.0/24 CIDR 블록의 Subnet 에서는 다음 5개 IP 주소가 예약되어 있어요.\nIP 기능 192.168.10.0 네트워크 주소 192.168.10.1 AWS에서 VPC 라우터용으로 예약한 주소 192.168.10.2 AWS에서 예약한 주소 DNS 서버의 IP 주소는 항상 VPC 네트워크 범위를 기초로 2를 더한 것 (하지만 AWS는 각 서브넷 범위의 기준 + 2도 예약) 192.168.10.3 AWS에서 앞으로 사용하려고 예약한 주소 192.168.10.255 네트워크 브로드캐스트 주소 (VPC에서는 브로드캐스트를 지원하지 않으므로, 이 주소를 예약) 이렇게해서 각 서브넷에서 사용할 수 있는 IP 5개가 줄어 들게 되는 것이랍니다.\n마지막으로 각 Subnet 묶음(Public, Private)을 서로다른 가용영역인 ap-northeast-2d 와 ap-northeast-2c 에 나누어서 프로젝트의 가용성을 확보해 줄거에요. 이렇게 해서 최종 결정한 VPC의 다이어그램을 아래와 같이 정리해보며 마무리 해봤어요!\nAWS EC2 생성하기 AWS는 Amazon Web Services의 약자인건 다들 아실거에요. AWS는 말 그대로 웹 서비스에 대한 여러가지 서비스를 제공해주는 확장 가능 컴퓨팅 용량을 제공해주는 클라우드 서비스인데 그 중 가장 익숙하고 널리 알려진 서비스가 바로 EC2일 것 같아요.\nAWS EC2는 Amazon Elastic Compute Cloud의 약자로 500개가 넘는 인스턴스, 그리고 최신 프로세서, 스토리지, 네트워킹, 운영 체제 및 구매 모델의 옵션과 함께 워크로드의 요구 사항에 가장 잘 부합할 수 있도록 가장 포괄적이고 심층적인 컴퓨팅 플랫폼을 제공하는 서비스에요. Amazon EC2를 사용하면 원하는 수의 가상 서버를 구축하고 하드웨어에 선투자할 필요없이 더 빠르게 애플리케이션을 배포하고 개발할 수 있답니다.\n사실 이런 저런 설명을 해도 그냥 간단히 말하면 EC2는 가상의 컴퓨터이며 우리는 이 가상의 컴퓨터를 가지고 여러가지 프로그램을 설치해서 사용한다고 보시면 될 것 같아요 :) 그리고 우리는 그 컴퓨터 단위를 인스턴스라고 부른답니다.\nEC2 인스턴스를 생성하는 법은 간단해요. 어떻게 생성하는지 가볍게 알아볼까요?\n우선 https://console.aws.amazon.com/ec2/ 에서 Amazon EC2 콘솔을 열어요.\n그러면 다음과 같이 사이드바에서 인스턴스 관련된 여러가지 목록들을 확인할 수 있는데 여기서 인스턴스를 클릭합니다.\n그러면 이렇게 생성한 인스턴스를 확인할 수 있는 화면과 오른쪽 상단 위에 인스턴스 시작버튼을 확인할 수 있어요. 여기서 인스턴스 시작을 누르시면 인스턴스를 생성할 준비가 절반은 다 이루어 졌답니다!\n인스턴스 시작 버튼을 누르면 먼저 어떤 기능을 수행할 컴퓨터를 생성할 것인지 사용목적에 맞게 이름을 지정해주세요. 저희는 Front-end, Back-end 두 팀이 진행하고 있기 때문에 두 개의 인스턴스를 생성하여 각각 NL_AWS_FE, NL_AWS_BE라고 이름을 지정했습니다.\n이름을 지정한 후에 인스턴스의 운영체제를 정해주세요. 저희는 처음에 Amazon Linux를 선택했다가 CI/CD작업중에 깃허브 액션의 가상 환경이 우분투를 지원해서 중간에 우분투로 운영체제를 바꿨습니다. 해당 내용은 이후에 CI/CD 관련 포스팅에서 자세하게 설명드릴게요.\n인스턴스 유형은 t3.medium을 선택했어요.\n키 페어는 새로 생성하여 꼭 저장해주세요! 키 페어가 없으면 인스턴스에 접근이 어려워요.\n나머지는 표준으로 하고 인스턴스 생성을 눌러주시면 인스턴스 생성이 완료 된답니다!\n자, 그럼 인스턴스 생성을 완료했으니 접속을 해봐야겠죠!?\n생성한 키 페어가 있는 파일 위치에서 터미널에 접속을 시도해주세요.\nchmod 400 NL_AWS_BE.pem # Key 파일 읽기 권한 부여 ssh -i NL_AWS_BE.pem ec2-user@ # AWS EC2에 SSH로 접속 그런 다음 위와 같은 명령어를 입력하면 인스턴스에 접속할 수 있습니다.\n이후 자유롭게 필요한 프로그램을 깔거나 파일을 올려 원하시는 대로 사용하면 되요. 저희는 이렇게 생성한 EC2 인스턴스에 각각 Front-End와 Back-End 팀의 깃허브를 clone하여 파일을 올린뒤 pm2를 설치하여 무중단 서비스 환경을 만들어 사용하고 있답니다 :)\nRoute 53, ELB 그리고 대상 그룹 설정하기 또 DevOps Team에서는, [www.network-leader.com](http://www.network-leader.com) 이라는 도메인 이름을 홈페이지 제작에 사용하기로 결정했어요. 이를 위해 AWS Route 53 서비스를 사용했는데, Route 53이 무엇인지 알아봅시다.\nRoute 53이란, 높은 가용성과 확장성이 뛰어난 클라우드 Domain Name System (DNS) 웹 서비스입니다. 이 서비스에서는 www.network-leader.com과 같은 이름을 192.0.2.1과 같은 컴퓨터 간 연결에 사용되는 숫자 IP 주소로 변환해줍니다.\n이를 위해, 먼저 www.network-leader.com 이름의 domain을 AWS에서 구매했어요.\nAWS console \u003e Route 53 \u003e Domains \u003e Register Domain 클릭 등록하고자 하는 domain 이름을 선택하고, 결제에 필요한 domain 구매자의 개인 정보(연락처, e-mail) 등을 입력 후 [Complete Purchase] 를 눌러서 도메인 등록 수수료를 결제 결제 이후, domain 구매시 등록한 e-mail로 구매 내역을 받을 수 있으며, AWS 내에서는 아래와 같이 확인이 가능해요. 이후, AWS Route 53 서비스를 통해 내가 구매한 domain 이름을 domain name server로 등록했어요.\nAWS console \u003e Route 53 \u003e Hosted zones \u003e Create hosted zone 클릭\nDomain name을 위에서 만든 domain name을 선택하고, AWS내에서가 아닌 Internet web에서 동작하도록 하기 위해 Type은 Public hosted zone으로 체크. 이후 하단의 Create 버튼을 누르면 아래 그림과 같이 Domain Name Server가 생성이 됩니다.\n다음으로, Route 53과 다른 AWS 서비스들을 연결해줘야 하는데요, 저희는 AWS 서비스 중 부하분산 등의 기능을 서비스 해주는 ELB(Elastic Load Balancer)를 Route 53과 연결시켜줬어요. ELB를 통해, 현재 도메인이 호스팅 하고 있는 2개의 EC2 인스턴스(NL_AWS_FE, NL_AWS_FE2)의 트래픽을 인스턴스 간에 분산시켜 줄 수 있어요.\nAWS console \u003e EC2 \u003e Load Balancers 에서 Load Balancer를 생성했고, 이후 Route 53 \u003e Hosted zones에서 network-leader.com의 Record를 생성하여 ELB와 Route 53을 연결했어요 이후, ELB의 대상 그룹에 EC2 인스턴스 NL_AWS_FE 및 NL_AWS_FE2를 추가해줬어요. 그리고 ‘Healthy Check’ 기능을 통해, 10초 간격으로 이상 징후를 탐지하도록 설정했어요. 이 ELB를 통해 여러 AZ(가용 영역)에 배치된 인스턴스들이 정상적으로 작동하는지 지속적으로 체크를 하고, 작동하지 않는 인스턴스에는 트래픽을 보내지 않게 되면서 가용성을 증가시켜 줄 수 있습니다.\n실제 개발 후기와 앞으로 해야할 과제 팀원 대부분이 안정적이고 정교한 클라우드 인프라 설계가 처음이라 새로 학습하고 적용해야 할 기능들이 많았지만, 동료들 끼리의 협업과 뜨거운 열정으로 성공적으로 개발을 마무리 지을 수 있었습니다.\nDevOps라는 이름을 달고 시작한 이후로 UX를 넘어 프로젝트 팀원 전체의 DX를 목표로 해야 할 일들이 참 많은데요, 새로운 요구 사항이나 이슈가 발생해도 기존 인프라를 어떻게 리팩토링할까 어떤 방식으로 자동화를 할까 하고 고민하는 것이 즐거운 부분중 하나입니다. DevOps 팀원 전체도 AWS 인프라를 더 잘 이해하고, 더 효율적이게 사용하기 위해 열심히 공부하고 토의하고 있으니 앞으로의 포스팅들도 기대해주시길 바랍니다.\n그러기에 앞으로 수행해야 할 과제들은 다음과 같다고 생각합니다.\nFront-end, Back-end 서버 CI/CD 파이프라인 구축 Cloudwatch로 인스턴스 사용량 감시 및 알람, 위기 대응 ELB에 SSL 인증서 할당으로 http→https 연결 활성화 Back-end 인스턴스 및 DB 프라이빗 서브넷 이전, Internet Gateway, NAT Gateway 연결 궁금한 점이나 후기들을 댓글로 달아주시길 바랍니다.\n부족한 글을 읽어주셔서 감사합니다!\n","wordCount":"1403","inLanguage":"en","datePublished":"2022-07-29T16:38:49+09:00","dateModified":"2022-07-29T16:38:49+09:00","author":[{"@type":"Person","name":"newdeal123"},{"@type":"Person","name":"TProgramer"},{"@type":"Person","name":"Hanalin0422"},{"@type":"Person","name":"Moojun"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://Network-Leader.github.io/devops/1/"},"publisher":{"@type":"Organization","name":"NL 팀 블로그","logo":{"@type":"ImageObject","url":"https://network-leader.s3.ap-northeast-2.amazonaws.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://Network-Leader.github.io/ accesskey=h title="NL 팀 블로그 (Alt + H)"><img src=https://Network-Leader.github.io/apple-touch-icon.png alt aria-label=logo height=35>NL 팀 블로그</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://Network-Leader.github.io/categories/ title=카테고리><span>카테고리</span></a></li><li><a href=https://Network-Leader.github.io/tags/ title=태그><span>태그</span></a></li><li><a href=http://network-leader.com title="홈페이지 바로가기"><span>홈페이지 바로가기</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://Network-Leader.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://Network-Leader.github.io/devops/>Devops</a></div><h1 class=post-title>NL DevOps팀의 첫 AWS 인프라 설계기</h1><div class=post-description>NL 동아리의 홈페이지의 견고하고 안전한 클라우드 인프라를 위해 설계하고 개발한 내용들을 공유해드려요.</div><div class=post-meta><span title='2022-07-29 16:38:49 +0900 +0900'>July 29, 2022</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1403 words&nbsp;·&nbsp;newdeal123, TProgramer, Hanalin0422, Moojun</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#aws-iam-유저-생성-및-권한>AWS IAM 유저 생성 및 권한</a></li><li><a href=#aws-vpc-cidr-설계하기>AWS VPC CIDR 설계하기</a></li><li><a href=#aws-ec2-생성하기>AWS EC2 생성하기</a></li><li><a href=#route-53-elb-그리고-대상-그룹-설정하기>Route 53, ELB 그리고 대상 그룹 설정하기</a></li><li><a href=#실제-개발-후기와-앞으로-해야할-과제><strong><strong>실제 개발 후기와 앞으로 해야할 과제</strong></strong></a></li></ul></nav></div></details></div><div class=post-content><h1 id=nl-devops팀의-첫-aws-인프라-설계기>NL DevOps팀의 첫 AWS 인프라 설계기<a hidden class=anchor aria-hidden=true href=#nl-devops팀의-첫-aws-인프라-설계기>#</a></h1><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/hello-there-private-from-penguins-of-madagascar.gif alt=hello-there-private-from-penguins-of-madagascar.gif></p><p>안녕하세요. NL 동아리 홈페이지 제작 프로젝트에서 DevOps 및 AWS 인프라 설계, 개발을 맡고 있는 DevOps팀이에요. 저희 팀 블로그의 첫 포스팅으로 저희 DevOps팀의 첫 AWS 인프라 설계하는 과정을 설명해드리려 해요. 클라우드 인프라 설계는 간단하게 진행하면 별 것 아닐 수도 있지만, 클라우드 서비스 하나하나 깊게 파고 적용시킬수록 가용성, 보안성을 높이고 비용 효율적으로 인프라를 고도화 시킬 수도 있습니다. 저희 팀에서 AWS를 사용해 웹 서비스의 인프라를 어떻게 설계하고 개발했는지, 차근차근 설명해 드릴게요.</p><h2 id=aws-iam-유저-생성-및-권한>AWS IAM 유저 생성 및 권한<a hidden class=anchor aria-hidden=true href=#aws-iam-유저-생성-및-권한>#</a></h2><p>가장 먼저 AWS 인프라를 개발할 때 필요한 절차는 무엇일까요? EC2 인스턴스 만들기? VPC 만들기? 정답은 루트계정으로 부터 최소 권한이 담긴 AWS IAM 유저를 생성하고, MFA를 적용시키는 일이에요. 모두가 루트계정으로 접속해 모든 권한으로 동시에 작업하는 행동은 아주 위험하고, AWS에서도 권장하지 않는 방식이에요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/1_-oFXKPUWQAERp1BZ7rR-IQ.gif alt=1_-oFXKPUWQAERp1BZ7rR-IQ.gif></p><p>이를 위해 가장 널리 사용되는 접근 방식은 <a href=https://en.wikipedia.org/wiki/Role-based_access_control>RBAC</a> (역할 기반 액세스 제어, <strong><a href=https://internaldeveloperplatform.org/core-components/role-based-access-control/>Role-Based Access Control</a></strong>) 입니다. DevOps팀에게는 팀 역할에 맞는 제어 권한을, Back-end팀에게는 그 팀 역할에 맞는 제어 권한을 줘야 하죠. AWS에는 권한이 담긴 사용자를 그룹별로 제어할 수 있도록 기능을 제어해 줍니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Untitled.png alt=Untitled></p><p>그룹에 여러가지 권한을 할당시키고, 그 그룹에 IAM 유저를 배정시킨다면 편리하게 그룹 별로 최소권한을 관리할 수 있게 됩니다. 특히 이후에는 AWS X-Ray, CloudTrail을 활용해 각 사용자별 활동 로그를 확인할 수 있어 더 효율적인 관리가 가능하게 됩니다.</p><p>이제 DevOps 팀원 각각에게 IAM 유저를 할당해주었으니, 팀원 각각은 보안 강화를 위해 <a href=https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/id_credentials_mfa.html>MFA</a>를 설정해 주어야 합니다. MFA는 멀티 팩터 인증으로, AWS 웹 사이트 콘솔에 로그인을 시도할 때 모바일 디바이스 등으로 2차 인증을 거쳐야 로그인이 가능하게 합니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Untitled%201.png alt=Untitled></p><p>아무리 계정에 최소 권한을 설정하고 비용을 모니터링 하더라도 보안에 대한 대비는 가능한 한 최대로 하는 것이 좋기에, 인프라에 대한 보안 위협을 보호하기 위해 MFA는 꼭 활성화 해주는 것이 중요해요.</p><h2 id=aws-vpc-cidr-설계하기>AWS VPC CIDR 설계하기<a hidden class=anchor aria-hidden=true href=#aws-vpc-cidr-설계하기>#</a></h2><p>다음으로 AWS 에서 큰 틀이라고 할 수 있는 VPC 를 설계해보려고 해요.</p><p>‘Virtual Private Cloud’ 라는 이름에서 보이듯이 VPC 는 AWS 에서 서버를 생성하여 사용하기 위해서는 일반 온프레미스 환경에서 사설망을 구축하는것과 동일하게 네트워크 설계가 필요해요.</p><p>이는 크게 어떤 IP대역을 선택할 것 인가와 어떻게 Subnet 을 나눌 것 인가에 대해 정의하는 단계로 나눠볼 수 있어요.</p><p>우선 첫 번째로 어떤 네트워크 IP대역을 사용할 것인지를 정해보았어요.</p><p>여기서 VPC 는 사설 네트워크 망이니 당연히 공인 IP 가 아닌 사설 IP 를 기준으로 정해야 해요.</p><p>통상적으로 사용가능한 사설 IP대역은 아래와 같아요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Untitled%202.png alt=Untitled></p><p>이 중 저희 팀은 Class C를 선택했어요.</p><p>하지만, 여기서 현재 몇개의 서버가 필요하며 향후 서버가 얼마나 늘어날 것 인가를 추가로 고려해야해요.</p><p>이번 프로젝트의 경우, 동아리 홈페이지를 위한 환경이니 미래에도 많은 서버를 필요로 하지않을 것 같아 192.168.0.0/24 의 네트워크 대역을 설정했어요.</p><p>다음 두 번째로는 Subnet 을 어떻게 나눌 것인지, 즉 Subnetting 방식을 정해야 해요.</p><p>여기서 Subnetting 이란 IP블록을 더 작은 그룹으로 분할하는 것을 말해요. 이렇게 Subnet 을 나누는 이유는 용도 별로 네트워크의 관리적인 측면도 있지만 가장 큰 이유는 보안 이슈 때문입니다.</p><p>Subnetting 을 통해서 VPC안에서도 외부에서 접근가능한 Public Subnet, 외부에서 접근이 불가능한 Private Subnet 으로 구분할 수 있어요. 일반적으로 웹/앱 서비스를 구동하기위한 서버가 필요하다고 한다면 Public Subnet 2개, Private Subnet 4개로 총 6개의 Subnet을 사용하지만, 저희는 규모가 큰 서비스가 아니기 때문에 줄여서 2개 / 2개로 설정했어요.</p><p>그러면 Public Subnet 과 Private Subnet 의 대역은 각각 ‘192.168.<strong>10</strong>.0/24’, ‘192.168.<strong>11</strong>.0/24’, ‘192.168.<strong>12</strong>.0/24’, ‘192.168.<strong>13</strong>.0/24’ 로, 각 Subnet 마다 251 개의 IP 를 할당해줄 수 있게돼요.</p><p>여기서 할당가능한 IP 의 개수가 256 개가 아닌 251 개인 이유는, 첫 4개의 IP 와 마지막 IP 주소가 AWS 에서 예약 해놓은 주소 이기 때문이에요. 예를 들어 192.168.10.0/24 CIDR 블록의 Subnet 에서는 다음 5개 IP 주소가 예약되어 있어요.</p><table><thead><tr><th>IP</th><th>기능</th></tr></thead><tbody><tr><td>192.168.10.0</td><td>네트워크 주소</td></tr><tr><td>192.168.10.1</td><td>AWS에서 VPC 라우터용으로 예약한 주소</td></tr><tr><td>192.168.10.2</td><td>AWS에서 예약한 주소 DNS 서버의 IP 주소는 항상 VPC 네트워크 범위를 기초로 2를 더한 것 (하지만 AWS는 각 서브넷 범위의 기준 + 2도 예약)</td></tr><tr><td>192.168.10.3</td><td>AWS에서 앞으로 사용하려고 예약한 주소</td></tr><tr><td>192.168.10.255</td><td>네트워크 브로드캐스트 주소 (VPC에서는 브로드캐스트를 지원하지 않으므로, 이 주소를 예약)</td></tr></tbody></table><p>이렇게해서 각 서브넷에서 사용할 수 있는 IP 5개가 줄어 들게 되는 것이랍니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/AgitatedOblongBanteng-size_restricted.gif alt=AgitatedOblongBanteng-size_restricted.gif></p><p>마지막으로 각 Subnet 묶음(Public, Private)을 서로다른 가용영역인 ap-northeast-2d 와 ap-northeast-2c 에 나누어서 프로젝트의 가용성을 확보해 줄거에요. 이렇게 해서 최종 결정한 VPC의 다이어그램을 아래와 같이 정리해보며 마무리 해봤어요!</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/NL-VPC.drawio.png alt=NL-VPC.drawio.png></p><h2 id=aws-ec2-생성하기>AWS EC2 생성하기<a hidden class=anchor aria-hidden=true href=#aws-ec2-생성하기>#</a></h2><p>AWS는 Amazon Web Services의 약자인건 다들 아실거에요. AWS는 말 그대로 웹 서비스에 대한 여러가지 서비스를 제공해주는 확장 가능 컴퓨팅 용량을 제공해주는 클라우드 서비스인데 그 중 가장 익숙하고 널리 알려진 서비스가 바로 EC2일 것 같아요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Untitled%203.png alt=Untitled></p><p>AWS EC2는 Amazon Elastic Compute Cloud의 약자로 500개가 넘는 인스턴스, 그리고 최신 프로세서, 스토리지, 네트워킹, 운영 체제 및 구매 모델의 옵션과 함께 워크로드의 요구 사항에 가장 잘 부합할 수 있도록 가장 포괄적이고 심층적인 컴퓨팅 플랫폼을 제공하는 서비스에요. Amazon EC2를 사용하면 원하는 수의 가상 서버를 구축하고 하드웨어에 선투자할 필요없이 더 빠르게 애플리케이션을 배포하고 개발할 수 있답니다.</p><p>사실 이런 저런 설명을 해도 그냥 간단히 말하면 EC2는 가상의 컴퓨터이며 우리는 이 가상의 컴퓨터를 가지고 여러가지 프로그램을 설치해서 사용한다고 보시면 될 것 같아요 :) 그리고 우리는 그 컴퓨터 단위를 인스턴스라고 부른답니다.</p><p>EC2 인스턴스를 생성하는 법은 간단해요. 어떻게 생성하는지 가볍게 알아볼까요?</p><ol><li><p>우선 <a href=https://console.aws.amazon.com/ec2/>https://console.aws.amazon.com/ec2/</a> 에서 Amazon EC2 콘솔을 열어요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.24.23.png alt="스크린샷 2022-07-29 오후 3.24.23.png"></p></li></ol><p>그러면 다음과 같이 사이드바에서 인스턴스 관련된 여러가지 목록들을 확인할 수 있는데 여기서 인스턴스를 클릭합니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.26.54.png alt="스크린샷 2022-07-29 오후 3.26.54.png"></p><p>그러면 이렇게 생성한 인스턴스를 확인할 수 있는 화면과 오른쪽 상단 위에 인스턴스 시작버튼을 확인할 수 있어요. 여기서 인스턴스 시작을 누르시면 인스턴스를 생성할 준비가 절반은 다 이루어 졌답니다!</p><ol><li><p>인스턴스 시작 버튼을 누르면 먼저 어떤 기능을 수행할 컴퓨터를 생성할 것인지 사용목적에 맞게 이름을 지정해주세요. 저희는 Front-end, Back-end 두 팀이 진행하고 있기 때문에 두 개의 인스턴스를 생성하여 각각 NL_AWS_FE, NL_AWS_BE라고 이름을 지정했습니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.29.53.png alt="스크린샷 2022-07-29 오후 3.29.53.png"></p></li><li><p>이름을 지정한 후에 인스턴스의 운영체제를 정해주세요. 저희는 처음에 Amazon Linux를 선택했다가 CI/CD작업중에 깃허브 액션의 가상 환경이 우분투를 지원해서 중간에 우분투로 운영체제를 바꿨습니다. 해당 내용은 이후에 CI/CD 관련 포스팅에서 자세하게 설명드릴게요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.34.04.png alt="스크린샷 2022-07-29 오후 3.34.04.png"></p></li><li><p>인스턴스 유형은 t3.medium을 선택했어요.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.55.39.png alt="스크린샷 2022-07-29 오후 3.55.39.png"></p></li><li><p>키 페어는 새로 생성하여 꼭 저장해주세요! 키 페어가 없으면 인스턴스에 접근이 어려워요.</p></li><li><p>나머지는 표준으로 하고 인스턴스 생성을 눌러주시면 인스턴스 생성이 완료 된답니다!</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/_2022-07-29__3.58.41.png alt="스크린샷 2022-07-29 오후 3.58.41.png"></p></li></ol><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Untitled%204.png alt=Untitled></p><p>자, 그럼 인스턴스 생성을 완료했으니 접속을 해봐야겠죠!?</p><p>생성한 키 페어가 있는 파일 위치에서 터미널에 접속을 시도해주세요.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod <span class=m>400</span> NL_AWS_BE.pem <span class=c1># Key 파일 읽기 권한 부여</span>
</span></span><span class=line><span class=cl>ssh -i NL_AWS_BE.pem ec2-user@&lt;public ip&gt; <span class=c1># AWS EC2에 SSH로 접속</span>
</span></span></code></pre></div><p>그런 다음 위와 같은 명령어를 입력하면 인스턴스에 접속할 수 있습니다.</p><p>이후 자유롭게 필요한 프로그램을 깔거나 파일을 올려 원하시는 대로 사용하면 되요. 저희는 이렇게 생성한 EC2 인스턴스에 각각 Front-End와 Back-End 팀의 깃허브를 clone하여 파일을 올린뒤 pm2를 설치하여 무중단 서비스 환경을 만들어 사용하고 있답니다 :)</p><h2 id=route-53-elb-그리고-대상-그룹-설정하기>Route 53, ELB 그리고 대상 그룹 설정하기<a hidden class=anchor aria-hidden=true href=#route-53-elb-그리고-대상-그룹-설정하기>#</a></h2><p>또 DevOps Team에서는, <code>[www.network-leader.com](http://www.network-leader.com)</code> 이라는 도메인 이름을 홈페이지 제작에 사용하기로 결정했어요. 이를 위해 AWS Route 53 서비스를 사용했는데, Route 53이 무엇인지 알아봅시다.</p><p>Route 53이란, 높은 가용성과 확장성이 뛰어난 클라우드 <a href=https://aws.amazon.com/ko/route53/what-is-dns/>Domain Name System (DNS)</a> 웹 서비스입니다. 이 서비스에서는 <a href=https://www.network-leader.com>www.network-leader.com</a>과 같은 이름을 192.0.2.1과 같은 컴퓨터 간 연결에 사용되는 숫자 IP 주소로 변환해줍니다.</p><p>이를 위해, 먼저 <code>www.network-leader.com</code> 이름의 domain을 AWS에서 구매했어요.</p><ul><li>AWS console > Route 53 > Domains > Register Domain 클릭</li><li>등록하고자 하는 domain 이름을 선택하고, 결제에 필요한 domain 구매자의 개인 정보(연락처, e-mail) 등을 입력 후 [Complete Purchase] 를 눌러서 도메인 등록 수수료를 결제</li><li>결제 이후, domain 구매시 등록한 e-mail로 구매 내역을 받을 수 있으며, AWS 내에서는 아래와 같이 확인이 가능해요.</li></ul><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Screen_Shot_2022-07-29_at_3.06.26_PM.png alt="Screen Shot 2022-07-29 at 3.06.26 PM.png"></p><p>이후, AWS Route 53 서비스를 통해 내가 구매한 domain 이름을 domain name server로 등록했어요.</p><ul><li><p>AWS console > Route 53 > Hosted zones > Create hosted zone 클릭</p></li><li><p>Domain name을 위에서 만든 domain name을 선택하고, AWS내에서가 아닌 Internet web에서 동작하도록 하기 위해 Type은 Public hosted zone으로 체크. 이후 하단의 Create 버튼을 누르면 아래 그림과 같이 Domain Name Server가 생성이 됩니다.</p><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/Screen_Shot_2022-07-29_at_3.06.26_PM%201.png alt="Screen Shot 2022-07-29 at 3.06.26 PM.png"></p></li></ul><p>다음으로, Route 53과 다른 AWS 서비스들을 연결해줘야 하는데요, 저희는 AWS 서비스 중 부하분산 등의 기능을 서비스 해주는 ELB(Elastic Load Balancer)를 Route 53과 연결시켜줬어요. ELB를 통해, 현재 도메인이 호스팅 하고 있는 2개의 EC2 인스턴스(NL_AWS_FE, NL_AWS_FE2)의 트래픽을 인스턴스 간에 분산시켜 줄 수 있어요.</p><ul><li>AWS console > EC2 > Load Balancers 에서 Load Balancer를 생성했고, 이후 Route 53 > Hosted zones에서 network-leader.com의 Record를 생성하여 ELB와 Route 53을 연결했어요</li><li>이후, ELB의 대상 그룹에 EC2 인스턴스 NL_AWS_FE 및 NL_AWS_FE2를 추가해줬어요. 그리고 ‘Healthy Check’ 기능을 통해, 10초 간격으로 이상 징후를 탐지하도록 설정했어요.</li></ul><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/1_0_AxDGA6rGF8ESMifA6j8w.gif alt=1_0_AxDGA6rGF8ESMifA6j8w.gif></p><p>이 ELB를 통해 여러 AZ(가용 영역)에 배치된 인스턴스들이 정상적으로 작동하는지 지속적으로 체크를 하고, 작동하지 않는 인스턴스에는 트래픽을 보내지 않게 되면서 가용성을 증가시켜 줄 수 있습니다.</p><h2 id=실제-개발-후기와-앞으로-해야할-과제><strong><strong>실제 개발 후기와 앞으로 해야할 과제</strong></strong><a hidden class=anchor aria-hidden=true href=#실제-개발-후기와-앞으로-해야할-과제>#</a></h2><p>팀원 대부분이 안정적이고 정교한 클라우드 인프라 설계가 처음이라 새로 학습하고 적용해야 할 기능들이 많았지만, 동료들 끼리의 협업과 뜨거운 열정으로 성공적으로 개발을 마무리 지을 수 있었습니다.</p><p>DevOps라는 이름을 달고 시작한 이후로 UX를 넘어 프로젝트 팀원 전체의 DX를 목표로 해야 할 일들이 참 많은데요, 새로운 요구 사항이나 이슈가 발생해도 기존 인프라를 어떻게 리팩토링할까 어떤 방식으로 자동화를 할까 하고 고민하는 것이 즐거운 부분중 하나입니다. DevOps 팀원 전체도 AWS 인프라를 더 잘 이해하고, 더 효율적이게 사용하기 위해 열심히 공부하고 토의하고 있으니 앞으로의 포스팅들도 기대해주시길 바랍니다.</p><p>그러기에 앞으로 수행해야 할 과제들은 다음과 같다고 생각합니다.</p><ul><li>Front-end, Back-end 서버 CI/CD 파이프라인 구축</li><li>Cloudwatch로 인스턴스 사용량 감시 및 알람, 위기 대응</li><li>ELB에 SSL 인증서 할당으로 http→https 연결 활성화</li><li>Back-end 인스턴스 및 DB 프라이빗 서브넷 이전, Internet Gateway, NAT Gateway 연결</li></ul><p><img loading=lazy src=https://network-leader.s3.ap-northeast-2.amazonaws.com/blog/1/devops.gif alt=devops.gif></p><p>궁금한 점이나 후기들을 댓글로 달아주시길 바랍니다.</p><p>부족한 글을 읽어주셔서 감사합니다!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://Network-Leader.github.io/tags/devops/>devops</a></li><li><a href=https://Network-Leader.github.io/tags/aws/>aws</a></li><li><a href=https://Network-Leader.github.io/tags/ec2/>ec2</a></li><li><a href=https://Network-Leader.github.io/tags/iam/>iam</a></li><li><a href=https://Network-Leader.github.io/tags/vpc/>vpc</a></li><li><a href=https://Network-Leader.github.io/tags/elb/>elb</a></li><li><a href=https://Network-Leader.github.io/tags/route53/>route53</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on twitter" href="https://twitter.com/intent/tweet/?text=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0&url=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f&hashtags=devops%2caws%2cec2%2ciam%2cvpc%2celb%2croute53"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f&title=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0&summary=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0&source=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f&title=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on whatsapp" href="https://api.whatsapp.com/send?text=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0%20-%20https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share NL DevOps팀의 첫 AWS 인프라 설계기 on telegram" href="https://telegram.me/share/url?text=NL%20DevOps%ed%8c%80%ec%9d%98%20%ec%b2%ab%20AWS%20%ec%9d%b8%ed%94%84%eb%9d%bc%20%ec%84%a4%ea%b3%84%ea%b8%b0&url=https%3a%2f%2fNetwork-Leader.github.io%2fdevops%2f1%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://Network-Leader.github.io/>NL 팀 블로그</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>